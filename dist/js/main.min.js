"use strict";var burgerBtn,primaryNav,shortenInput,shortenBtn,shortenError,shortenedList,copyButtons,shortenItemTemplate,API_URL_BASE="https://api.shrtco.de/v2/",links={},main=function(){prepareDOMElements(),loadLinksFromLocalStorage(),prepareCopyButtons(),prepareDOMEvents()},prepareDOMElements=function(){burgerBtn=document.querySelector(".navigation__burger-btn"),primaryNav=document.querySelector("#primary-nav"),shortenInput=document.querySelector("#shorten-url"),shortenBtn=document.querySelector("#shorten-btn"),shortenError=document.querySelector("#shorten-error"),shortenedList=document.querySelector("#shortened-links-list"),shortenItemTemplate=document.querySelector("#shortened-list-item-template")},prepareDOMEvents=function(){burgerBtn.addEventListener("click",handleBurgerBtn),shortenBtn.addEventListener("click",function(t){t.preventDefault(),shortenUrl()}),copyButtons.forEach(function(t){return t.addEventListener("click",handleCopy)})},prepareCopyButtons=function(){copyButtons=shortenedList.querySelectorAll("[data-url-to-copy")},handleBurgerBtn=function(){burgerBtn.setAttribute("aria-expanded",String(!primaryNav.classList.contains("visible"))),primaryNav.classList.toggle("visible")},shortenUrl=function(){var t;shortenInput.value?(hideError(),t=shortenInput.value,fetch("".concat(API_URL_BASE,"/shorten?url=").concat(t)).then(function(t){return t.json()}).then(function(t){if(!t.ok)throw new Error("");var t=t.result,e=t.short_link;return{originalLink:t.original_link,shortLink:e}}).then(function(t){if(t.originalLink in links)throw new Error("Link already shortened.");return links[t.originalLink]=t.shortLink,t}).then(function(t){var e=t.originalLink,t=t.shortLink;appendListItem(e,t),toggleListVisibility()}).then(function(){localStorage.setItem("links",JSON.stringify(links))}).catch(function(t){showError(t.message)})):showError("Input field cannot be empty.")},loadLinksFromLocalStorage=function(){var t,e=JSON.parse(localStorage.getItem("links"));if(e)for(var r in links=e)Object.hasOwnProperty.call(e,r)&&(t=e[r],appendListItem(r,t));toggleListVisibility()},appendListItem=function(t,e){var r=shortenItemTemplate.content.cloneNode(!0),n=r.querySelector("[data-original-url]"),o=r.querySelector("[data-result-url]"),i=r.querySelector("[data-url-to-copy]");n.setAttribute("data-original-url",t),n.innerText=t,o.setAttribute("data-result-url",e),o.innerText=e,i.setAttribute("data-url-to-copy",e),i.addEventListener("click",handleCopy),shortenedList.appendChild(r)},handleCopy=function(t){var e=t.target.dataset.urlToCopy;navigator.clipboard.writeText(e).then(function(){t.target.classList.add("copied"),t.target.innerText="Copied!",setTimeout(function(){t.target.classList.remove("copied"),t.target.innerText="Copy"},2e3)})},toggleListVisibility=function(){shortenedList.classList.toggle("hidden",!shortenedList.children.length)},showError=function(t){shortenInput.classList.add("error"),shortenError.innerText="".concat(t)},hideError=function(){shortenInput.classList.remove("error"),shortenError.innerText=""};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwicHJpbWFyeU5hdiIsInNob3J0ZW5JbnB1dCIsInNob3J0ZW5CdG4iLCJzaG9ydGVuZWRMaXN0IiwiY29weUJ1dHRvbnMiLCJzaG9ydGVuSXRlbVRlbXBsYXRlIiwiQVBJX1VSTF9CQVNFIiwibWFpbiIsInByZXBhcmVDb3B5QnV0dG9ucyIsInByZXBhcmVET01FbGVtZW50cyIsImxvYWRMaW5rc0Zyb21Mb2NhbFN0b3JhZ2UiLCJwcmVwYXJlRE9NRXZlbnRzIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50Iiwic2hvcnRlbkVycm9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUJ1cmdlckJ0biIsInNob3J0ZW5VcmwiLCJidG4iLCJlIiwicHJldmVudERlZmF1bHQiLCJmb3JFYWNoIiwicXVlcnlTZWxlY3RvckFsbCIsImhhbmRsZUNvcHkiLCJzZXRBdHRyaWJ1dGUiLCJTdHJpbmciLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInZhbHVlIiwiZmV0Y2giLCJ1cmwiLCJqc29uIiwiaGlkZUVycm9yIiwiY29uY2F0Iiwic2hvcnRMaW5rIiwidGhlbiIsIm9yaWdpbmFsTGluayIsInJlcyIsIm9rIiwiRXJyb3IiLCJyZXN1bHQiLCJkYXRhIiwic2hvcnRfbGluayIsIm9yaWdpbmFsX2xpbmsiLCJsaW5rcyIsImFwcGVuZExpc3RJdGVtIiwidG9nZ2xlTGlzdFZpc2liaWxpdHkiLCJfcmVmIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlcnIiLCJzaG93RXJyb3IiLCJzdG9yYWdlTGlua3MiLCJjYWxsIiwia2V5IiwiZ2V0SXRlbSIsIk9iamVjdCIsImhhc093blByb3BlcnR5IiwiY29weUJ0biIsImxpc3RJdGVtIiwib3JpZ2luYWxfdXJsIiwicmVzdWx0X3VybCIsIm9yaWdpbmFsVXJsRWxlbWVudCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJpbm5lclRleHQiLCJyZXN1bHRVcmxFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJuYXZpZ2F0b3IiLCJ3cml0ZVRleHQiLCJ0YXJnZXQiLCJ1cmxUb0NvcHkiLCJkYXRhc2V0IiwiY2xpcGJvYXJkIiwiYWRkIiwic2V0VGltZW91dCIsInJlbW92ZSIsImNoaWxkcmVuIiwibGVuZ3RoIiwibXNnIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxVQUNBQyxXQUFBQSxhQUVBQyxXQUNBQyxhQUdBQyxjQUNBQyxZQUVBQyxvQkFHRUMsYUFBZSw0QkFJZkMsTUFBTyxHQUdaQyxLQUFBQSxXQUZBQyxxQkFDQUMsNEJBRkRGLHFCQUlDRyxvQkFLQVgsbUJBQXNCWSxXQUR0QmIsVUFHQUUsU0FBZVksY0FBU0QsMkJBRnhCWixXQUdVYSxTQUFXRCxjQUFSLGdCQURiWCxhQUlhWSxTQUFHQSxjQUFTRCxnQkFIekJWLFdBSUFHLFNBQW1CTyxjQUFZQSxnQkFUaENFLGFBQUFELFNBQUFELGNBQUEsa0JBWUFULGNBQU1RLFNBQW1CQyxjQUFuQkQseUJBSExOLG9CQUlVVSxTQUFpQkgsY0FBU0ksa0NBSW5DQyxpQkFBVSxXQUpYbEIsVUFFQWdCLGlCQUFBLFFBQUFDLGlCQUFBZCxXQUs2QmdCLGlCQUFJSCxRQUFpQixTQUFyQkksR0FBVEEsRUFBcEJDLGlCQVJESCxlQVFDYixZQUlXaUIsUUFBR2xCLFNBQUFBLEdBQUFBLE9BQWNtQixFQUFBQSxpQkFBaUIsUUFBQUMsZUFHeENQLG1CQUFrQixXQUh2QlosWUFJVW9CLGNBQWFGLGlCQUFpQkcsc0JBRG5DVCxnQkFBa0IsV0FLeEJqQixVQUFNa0IsYUFBYSxnQkFBTVEsUUFBQXpCLFdBQUEwQixVQUFBQyxTQUFBLGFBSHhCM0IsV0FJSUMsVUFBYTJCLE9BQU8sWUFLdkJDLFdBQUssV0FMTixJQUdPQyxFQUhIN0IsYUFNaUI4QixPQUxwQkMsWUFFTUYsRUFBTTdCLGFBQWEyQixNQUV6QkMsTUFPRSxHQUFBSSxPQUFNQyxhQUFOLGlCQUFBRCxPQUFBSCxJQU5BSyxLQU9BLFNBQU1DLEdBQU4sT0FBTUEsRUFBWUwsU0FObEJJLEtBQUssU0FBQ0UsR0FDTixJQU9BQSxFQUFPQyxHQUFBLE1BQUEsSUFBQUMsTUFBQSxJQUpQLElBSUFDLEVBQUFILEVBQUFHLE9BRUFMLEVBQU1NLEVBQVNDLFdBRmYsTUFBTyxDQUFFTixhQUdUSSxFQUFBRyxjQUh1QlQsVUFBQUEsS0FFdkJDLEtBTUEsU0FBQU0sR0FKQSxHQU1zQ0EsRUFBOUJMLGdCQUE4QlEsTUFBOUJSLE1BQThCLElBQUFHLE1BQUEsMkJBRnRDLE9BREFLLE1BS0FDLEVBQUFBLGNBQWVULEVBQWNGLFVBQzdCWSxJQUhBWCxLQU1BLFNBQUFZLEdBQUEsSUFBQVgsRUFBQVcsRUFBQVgsYUFBQUYsRUFBQWEsRUFBQWIsVUFFQVcsZUFDTVQsRUFBU0YsR0FOZlkseUJBNUJIWCxLQXFDTyxXQUVOYSxhQUFBQyxRQUFBLFFBQUFDLEtBQUFDLFVBQUFQLFVBbENBLE1BNkJRLFNBQUNRLEdBUUwxQyxVQUFBQSxFQUFBQSxZQUVMMkMsVUFBSUMsaUNBR0Y1QywwQkFBMEI2QyxXQUo1QixJQUtTM0IsRUFMSDBCLEVBS1dBLEtBQUFBLE1BQWFFLGFBQTNCQyxRQUFBLFVBSkgsR0FBSUgsRUFFSCxJQUtDLElBQUFFLEtBTkRaLE1BS0VVLEVBRUZJLE9BQUFDLGVBQUFKLEtBQUFELEVBQUFFLEtBSlE1QixFQUFRMEIsRUFBYUUsR0FLOUJWLGVBQUFBLEVBQW9CbEIsSUFBcEJrQix3QkFPTWMsZUFBVUMsU0FBUUMsRUFBUkMsR0FIaEIsSUFLQUMsRUFBQUEsb0JBQWdDQyxRQUFBQyxXQUFxQkosR0FDckRFLEVBQW1CRyxFQUFZTCxjQUEvQix1QkFFQU0sRUFBaUI1QyxFQUFhWixjQUE5QixxQkFDQXdELEVBQUFBLEVBQWlCRCxjQUFZSixzQkFKN0JDLEVBT1FqRCxhQUFpQixvQkFBekIrQyxHQU5BRSxFQVFjSyxVQUFZUixFQU4xQk8sRUFBaUI1QyxhQUFhLGtCQUFtQnVDLEdBU2xESyxFQUFtQkQsVUFBYjVDLEVBTkxxQyxFQVFBVSxhQUFvQkMsbUJBQXBCUixHQVBBSCxFQVFHWSxpQkFBRixRQUFBakQsWUFORHBCLGNBU1lrRSxZQUFNUixJQUFQdEMsV0FBVixTQUFBSixHQUxELElBQ0FzRCxFQUFBdEQsRUFBQXFELE9BQUFFLFFBQUFELFVBRkRILFVBQUFLLFVBQUFKLFVBQUFFLEdBQUF0QyxLQUFBLFdBR0VoQixFQUFFcUQsT0FBTzlDLFVBQVVrRCxJQUFJLFVBVXpCekQsRUFBTTJCLE9BQUFBLFVBQUFBLFVBQU4rQixXQUFBLFdBTkcxRCxFQUFFcUQsT0FBTzlDLFVBQVVvRCxPQUFPLFVBVTdCM0QsRUFBTWtDLE9BQUFBLFVBQVksUUFDakJwRCxRQUlLK0IscUJBQUFBLFdBUkw3QixjQVNhdUIsVUFBVW9ELE9BQU8sVUFBOUIzRSxjQUFBNEUsU0FBQUMsU0FOSzNCLFVBQVksU0FBQzRCLEdBVW5CcEUsYUFBU0UsVUFBQUEsSUFBaUIsU0FSekJELGFBQWFxRCxVQUFiLEdBQUFsQyxPQUE0QmdELElBR3ZCakQsVUFBWSxXQUNqQi9CLGFBQWF5QixVQUFVb0QsT0FBTyxTQUM5QmhFLGFBQWFxRCxVQUFZLElBRzFCdEQsU0FBU0UsaUJBQWlCLG1CQUFvQlIiLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYnVyZ2VyQnRuO1xyXG5sZXQgcHJpbWFyeU5hdjtcclxuXHJcbmxldCBzaG9ydGVuSW5wdXQ7XHJcbmxldCBzaG9ydGVuQnRuO1xyXG5sZXQgc2hvcnRlbkVycm9yO1xyXG5cclxubGV0IHNob3J0ZW5lZExpc3Q7XHJcbmxldCBjb3B5QnV0dG9ucztcclxuXHJcbmxldCBzaG9ydGVuSXRlbVRlbXBsYXRlO1xyXG5cclxuLy8gdmFyaWFibGVzXHJcbmNvbnN0IEFQSV9VUkxfQkFTRSA9ICdodHRwczovL2FwaS5zaHJ0Y28uZGUvdjIvJztcclxubGV0IGxpbmtzID0ge307XHJcblxyXG4vLyBmdW5jdGlvbnNcclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuXHRwcmVwYXJlRE9NRWxlbWVudHMoKTtcclxuXHRsb2FkTGlua3NGcm9tTG9jYWxTdG9yYWdlKCk7XHJcblx0cHJlcGFyZUNvcHlCdXR0b25zKCk7IC8vIGxvYWQgY29weSBidXR0b25zIGFmdGVyIGxpbmtzIGFyZSBhZGRlZFxyXG5cdHByZXBhcmVET01FdmVudHMoKTtcclxufTtcclxuXHJcbmNvbnN0IHByZXBhcmVET01FbGVtZW50cyA9ICgpID0+IHtcclxuXHRidXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmF2aWdhdGlvbl9fYnVyZ2VyLWJ0bicpO1xyXG5cdHByaW1hcnlOYXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJpbWFyeS1uYXYnKTtcclxuXHJcblx0c2hvcnRlbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3J0ZW4tdXJsJyk7XHJcblx0c2hvcnRlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaG9ydGVuLWJ0bicpO1xyXG5cdHNob3J0ZW5FcnJvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaG9ydGVuLWVycm9yJyk7XHJcblxyXG5cdHNob3J0ZW5lZExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hvcnRlbmVkLWxpbmtzLWxpc3QnKTtcclxuXHRzaG9ydGVuSXRlbVRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3J0ZW5lZC1saXN0LWl0ZW0tdGVtcGxhdGUnKTtcclxufTtcclxuXHJcbmNvbnN0IHByZXBhcmVET01FdmVudHMgPSAoKSA9PiB7XHJcblx0YnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQnVyZ2VyQnRuKTtcclxuXHJcblx0c2hvcnRlbkJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRzaG9ydGVuVXJsKCk7XHJcblx0fSk7XHJcblxyXG5cdGNvcHlCdXR0b25zLmZvckVhY2goKGJ0bikgPT4gYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ29weSkpO1xyXG59O1xyXG5cclxuY29uc3QgcHJlcGFyZUNvcHlCdXR0b25zID0gKCkgPT4ge1xyXG5cdGNvcHlCdXR0b25zID0gc2hvcnRlbmVkTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS11cmwtdG8tY29weScpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQnVyZ2VyQnRuID0gKCkgPT4ge1xyXG5cdGJ1cmdlckJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBTdHJpbmcoIXByaW1hcnlOYXYuY2xhc3NMaXN0LmNvbnRhaW5zKCd2aXNpYmxlJykpKTtcclxuXHRwcmltYXJ5TmF2LmNsYXNzTGlzdC50b2dnbGUoJ3Zpc2libGUnKTtcclxufTtcclxuXHJcbmNvbnN0IHNob3J0ZW5VcmwgPSAoKSA9PiB7XHJcblx0aWYgKHNob3J0ZW5JbnB1dC52YWx1ZSkge1xyXG5cdFx0aGlkZUVycm9yKCk7XHJcblxyXG5cdFx0Y29uc3QgdXJsID0gc2hvcnRlbklucHV0LnZhbHVlO1xyXG5cclxuXHRcdGZldGNoKGAke0FQSV9VUkxfQkFTRX0vc2hvcnRlbj91cmw9JHt1cmx9YClcclxuXHRcdFx0LnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcclxuXHRcdFx0LnRoZW4oKHJlcykgPT4ge1xyXG5cdFx0XHRcdGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoJycpO1xyXG5cclxuXHRcdFx0XHQvLyBnZXQgZGF0YSBmcm9tIHJlc3BvbnNlXHJcblx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gcmVzLnJlc3VsdDtcclxuXHRcdFx0XHRjb25zdCBzaG9ydExpbmsgPSByZXN1bHQuc2hvcnRfbGluaztcclxuXHRcdFx0XHRjb25zdCBvcmlnaW5hbExpbmsgPSByZXN1bHQub3JpZ2luYWxfbGluaztcclxuXHRcdFx0XHQvLyBhbmQgcmV0dXJuIGl0IGZ1cnRoZXJcclxuXHRcdFx0XHRyZXR1cm4geyBvcmlnaW5hbExpbmssIHNob3J0TGluayB9O1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRcdC8vIGlmIGxpbmsgYWxyZWFkeSBzaG9ydGVuZWQsIHRocm93IGVycm9yIGFuZCBkbyBub3RoaW5nXHJcblx0XHRcdFx0aWYgKGRhdGEub3JpZ2luYWxMaW5rIGluIGxpbmtzKSB0aHJvdyBuZXcgRXJyb3IoJ0xpbmsgYWxyZWFkeSBzaG9ydGVuZWQuJyk7XHJcblxyXG5cdFx0XHRcdC8vIGVsc2UsIHNhdmUgdG8gb2JqZWN0IGluIHRoaXMgZmlsZVxyXG5cdFx0XHRcdGxpbmtzW2RhdGEub3JpZ2luYWxMaW5rXSA9IGRhdGEuc2hvcnRMaW5rO1xyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQudGhlbigoeyBvcmlnaW5hbExpbmssIHNob3J0TGluayB9KSA9PiB7XHJcblx0XHRcdFx0Ly8gYXBwZW5kIG5ldyBpdGVtIHRvIHRoZSBsaXN0XHJcblx0XHRcdFx0YXBwZW5kTGlzdEl0ZW0ob3JpZ2luYWxMaW5rLCBzaG9ydExpbmspO1xyXG5cdFx0XHRcdHRvZ2dsZUxpc3RWaXNpYmlsaXR5KCk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC50aGVuKCgpID0+IHtcclxuXHRcdFx0XHQvLyBzYXZlIHRvIGxvY2FsIHN0b3JhZ2VcclxuXHRcdFx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGlua3MnLCBKU09OLnN0cmluZ2lmeShsaW5rcykpO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHQuY2F0Y2goKGVycikgPT4ge1xyXG5cdFx0XHRcdHNob3dFcnJvcihlcnIubWVzc2FnZSk7XHJcblx0XHRcdH0pO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRzaG93RXJyb3IoJ0lucHV0IGZpZWxkIGNhbm5vdCBiZSBlbXB0eS4nKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBsb2FkTGlua3NGcm9tTG9jYWxTdG9yYWdlID0gKCkgPT4ge1xyXG5cdGNvbnN0IHN0b3JhZ2VMaW5rcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xpbmtzJykpO1xyXG5cdGlmIChzdG9yYWdlTGlua3MpIHtcclxuXHRcdGxpbmtzID0gc3RvcmFnZUxpbmtzO1xyXG5cdFx0Zm9yIChjb25zdCBrZXkgaW4gc3RvcmFnZUxpbmtzKSB7XHJcblx0XHRcdGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChzdG9yYWdlTGlua3MsIGtleSkpIHtcclxuXHRcdFx0XHRjb25zdCB2YWx1ZSA9IHN0b3JhZ2VMaW5rc1trZXldO1xyXG5cdFx0XHRcdGFwcGVuZExpc3RJdGVtKGtleSwgdmFsdWUpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdHRvZ2dsZUxpc3RWaXNpYmlsaXR5KCk7XHJcbn07XHJcblxyXG5jb25zdCBhcHBlbmRMaXN0SXRlbSA9IChvcmlnaW5hbF91cmwsIHJlc3VsdF91cmwpID0+IHtcclxuXHRjb25zdCBsaXN0SXRlbSA9IHNob3J0ZW5JdGVtVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XHJcblx0Y29uc3Qgb3JpZ2luYWxVcmxFbGVtZW50ID0gbGlzdEl0ZW0ucXVlcnlTZWxlY3RvcignW2RhdGEtb3JpZ2luYWwtdXJsXScpO1xyXG5cdGNvbnN0IHJlc3VsdFVybEVsZW1lbnQgPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1yZXN1bHQtdXJsXScpO1xyXG5cdGNvbnN0IGNvcHlCdG4gPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS11cmwtdG8tY29weV0nKTtcclxuXHJcblx0b3JpZ2luYWxVcmxFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC11cmwnLCBvcmlnaW5hbF91cmwpO1xyXG5cdG9yaWdpbmFsVXJsRWxlbWVudC5pbm5lclRleHQgPSBvcmlnaW5hbF91cmw7XHJcblxyXG5cdHJlc3VsdFVybEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXJlc3VsdC11cmwnLCByZXN1bHRfdXJsKTtcclxuXHRyZXN1bHRVcmxFbGVtZW50LmlubmVyVGV4dCA9IHJlc3VsdF91cmw7XHJcblxyXG5cdGNvcHlCdG4uc2V0QXR0cmlidXRlKCdkYXRhLXVybC10by1jb3B5JywgcmVzdWx0X3VybCk7XHJcblx0Y29weUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNvcHkpO1xyXG5cclxuXHRzaG9ydGVuZWRMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNvcHkgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IHVybFRvQ29weSA9IGUudGFyZ2V0LmRhdGFzZXQudXJsVG9Db3B5O1xyXG5cdG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHVybFRvQ29weSkudGhlbigoKSA9PiB7XHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdjb3BpZWQnKTtcclxuXHRcdGUudGFyZ2V0LmlubmVyVGV4dCA9ICdDb3BpZWQhJztcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnY29waWVkJyk7XHJcblx0XHRcdGUudGFyZ2V0LmlubmVyVGV4dCA9ICdDb3B5JztcclxuXHRcdH0sIDIwMDApO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3QgdG9nZ2xlTGlzdFZpc2liaWxpdHkgPSAoKSA9PiB7XHJcblx0c2hvcnRlbmVkTGlzdC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nLCAhc2hvcnRlbmVkTGlzdC5jaGlsZHJlbi5sZW5ndGgpO1xyXG59O1xyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKG1zZykgPT4ge1xyXG5cdHNob3J0ZW5JbnB1dC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG5cdHNob3J0ZW5FcnJvci5pbm5lclRleHQgPSBgJHttc2d9YDtcclxufTtcclxuXHJcbmNvbnN0IGhpZGVFcnJvciA9ICgpID0+IHtcclxuXHRzaG9ydGVuSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuXHRzaG9ydGVuRXJyb3IuaW5uZXJUZXh0ID0gJyc7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbik7XHJcbiJdfQ==
