"use strict";var burgerBtn,primaryNav,shortenInput,shortenBtn,shortenError,shortenedList,copyButtons,shortenItemTemplate,API_URL_BASE="https://api.shrtco.de/v2/",links={},main=function(){prepareDOMElements(),loadLinksFromLocalStorage(),prepareCopyButtons(),prepareDOMEvents()},prepareDOMElements=function(){burgerBtn=document.querySelector(".navigation__burger-btn"),primaryNav=document.querySelector("#primary-nav"),shortenInput=document.querySelector("#shorten-url"),shortenBtn=document.querySelector("#shorten-btn"),shortenError=document.querySelector("#shorten-error"),shortenedList=document.querySelector("#shortened-links-list"),shortenItemTemplate=document.querySelector("#shortened-list-item-template")},prepareDOMEvents=function(){burgerBtn.addEventListener("click",handleBurgerBtn),shortenBtn.addEventListener("click",function(t){t.preventDefault(),shortenUrl()}),copyButtons.forEach(function(t){return t.addEventListener("click",handleCopy)})},prepareCopyButtons=function(){copyButtons=shortenedList.querySelectorAll("[data-url-to-copy")},handleBurgerBtn=function(){burgerBtn.setAttribute("aria-expanded",String(!primaryNav.classList.contains("visible"))),primaryNav.classList.toggle("visible")},shortenUrl=function(){var t;shortenInput.value?(hideError(),t=shortenInput.value,fetch("".concat(API_URL_BASE,"/shorten?url=").concat(t)).then(function(t){return t.json()}).then(function(t){if(!t.ok)throw new Error("");var t=t.result,e=t.short_link;return{originalLink:t.original_link,shortLink:e}}).then(function(t){if(t.originalLink in links)throw new Error;return links[t.originalLink]=t.shortLink,t}).then(function(t){var e=t.originalLink,t=t.shortLink;appendListItem(e,t)}).then(function(){localStorage.setItem("links",JSON.stringify(links))}).catch(function(t){showError(t.message)})):showError("Input field cannot be empty.")},loadLinksFromLocalStorage=function(){var t,e=JSON.parse(localStorage.getItem("links"));if(e)for(var r in links=e)Object.hasOwnProperty.call(e,r)&&(t=e[r],appendListItem(r,t))},appendListItem=function(t,e){var r=shortenItemTemplate.content.cloneNode(!0),n=r.querySelector("[data-original-url]"),o=r.querySelector("[data-result-url]"),i=r.querySelector("[data-url-to-copy]");n.setAttribute("data-original-url",t),n.innerText=t,o.setAttribute("data-result-url",e),o.innerText=e,i.setAttribute("data-url-to-copy",e),i.addEventListener("click",handleCopy),shortenedList.appendChild(r)},handleCopy=function(t){var e=t.target.dataset.urlToCopy;navigator.clipboard.writeText(e).then(function(){t.target.classList.add("copied"),t.target.innerText="Copied!",setTimeout(function(){t.target.classList.remove("copied"),t.target.innerText="Copy"},2e3)})},showError=function(t){shortenInput.classList.add("error"),shortenError.innerText="".concat(t)},hideError=function(){shortenInput.classList.remove("error"),shortenError.innerText=""};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiYnVyZ2VyQnRuIiwicHJpbWFyeU5hdiIsInNob3J0ZW5JbnB1dCIsInNob3J0ZW5CdG4iLCJzaG9ydGVuZWRMaXN0IiwiY29weUJ1dHRvbnMiLCJzaG9ydGVuSXRlbVRlbXBsYXRlIiwiQVBJX1VSTF9CQVNFIiwibWFpbiIsInByZXBhcmVDb3B5QnV0dG9ucyIsInByZXBhcmVET01FbGVtZW50cyIsImxvYWRMaW5rc0Zyb21Mb2NhbFN0b3JhZ2UiLCJwcmVwYXJlRE9NRXZlbnRzIiwicXVlcnlTZWxlY3RvciIsImRvY3VtZW50Iiwic2hvcnRlbkVycm9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZUJ1cmdlckJ0biIsInNob3J0ZW5VcmwiLCJidG4iLCJlIiwicHJldmVudERlZmF1bHQiLCJmb3JFYWNoIiwicXVlcnlTZWxlY3RvckFsbCIsImhhbmRsZUNvcHkiLCJzZXRBdHRyaWJ1dGUiLCJTdHJpbmciLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInZhbHVlIiwiZmV0Y2giLCJ1cmwiLCJqc29uIiwiaGlkZUVycm9yIiwiY29uY2F0Iiwic2hvcnRMaW5rIiwidGhlbiIsIm9yaWdpbmFsTGluayIsInJlcyIsIm9rIiwiRXJyb3IiLCJyZXN1bHQiLCJkYXRhIiwic2hvcnRfbGluayIsIm9yaWdpbmFsX2xpbmsiLCJsaW5rcyIsImFwcGVuZExpc3RJdGVtIiwibG9jYWxTdG9yYWdlIiwic3RyaW5naWZ5Iiwic2V0SXRlbSIsIkpTT04iLCJlcnIiLCJzaG93RXJyb3IiLCJzdG9yYWdlTGlua3MiLCJjYWxsIiwia2V5IiwiZ2V0SXRlbSIsIk9iamVjdCIsImhhc093blByb3BlcnR5Iiwib3JpZ2luYWxVcmxFbGVtZW50IiwicmVzdWx0X3VybCIsIm9yaWdpbmFsX3VybCIsImNsb25lTm9kZSIsInJlc3VsdFVybEVsZW1lbnQiLCJpbm5lclRleHQiLCJjb3B5QnRuIiwiYXBwZW5kQ2hpbGQiLCJsaXN0SXRlbSIsImRhdGFzZXQiLCJ0YXJnZXQiLCJyZW1vdmUiLCJ1cmxUb0NvcHkiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJhZGQiLCJzZXRUaW1lb3V0IiwibXNnIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxVQUNBQyxXQUFBQSxhQUVBQyxXQUNBQyxhQUdBQyxjQUNBQyxZQUVBQyxvQkFHRUMsYUFBZSw0QkFJZkMsTUFBTyxHQUdaQyxLQUFBQSxXQUZBQyxxQkFDQUMsNEJBRkRGLHFCQUlDRyxvQkFLQVgsbUJBQXNCWSxXQUR0QmIsVUFHQUUsU0FBZVksY0FBU0QsMkJBRnhCWixXQUdVYSxTQUFXRCxjQUFSLGdCQURiWCxhQUlhWSxTQUFHQSxjQUFTRCxnQkFIekJWLFdBSUFHLFNBQW1CTyxjQUFZQSxnQkFUaENFLGFBQUFELFNBQUFELGNBQUEsa0JBWUFULGNBQU1RLFNBQW1CQyxjQUFuQkQseUJBSExOLG9CQUlVVSxTQUFpQkgsY0FBU0ksa0NBSW5DQyxpQkFBVSxXQUpYbEIsVUFFQWdCLGlCQUFBLFFBQUFDLGlCQUFBZCxXQUs2QmdCLGlCQUFJSCxRQUFpQixTQUFyQkksR0FBVEEsRUFBcEJDLGlCQVJESCxlQVFDYixZQUlXaUIsUUFBR2xCLFNBQUFBLEdBQUFBLE9BQWNtQixFQUFBQSxpQkFBaUIsUUFBQUMsZUFHeENQLG1CQUFrQixXQUh2QlosWUFJVW9CLGNBQWFGLGlCQUFpQkcsc0JBRG5DVCxnQkFBa0IsV0FLeEJqQixVQUFNa0IsYUFBYSxnQkFBTVEsUUFBQXpCLFdBQUEwQixVQUFBQyxTQUFBLGFBSHhCM0IsV0FJSUMsVUFBYTJCLE9BQU8sWUFLdkJDLFdBQUssV0FMTixJQUdPQyxFQUhIN0IsYUFNaUI4QixPQUxwQkMsWUFFTUYsRUFBTTdCLGFBQWEyQixNQUV6QkMsTUFPRSxHQUFBSSxPQUFNQyxhQUFOLGlCQUFBRCxPQUFBSCxJQU5BSyxLQU9BLFNBQU1DLEdBQU4sT0FBTUEsRUFBWUwsU0FObEJJLEtBQUssU0FBQ0UsR0FDTixJQU9BQSxFQUFPQyxHQUFBLE1BQUEsSUFBQUMsTUFBQSxJQUpQLElBSUFDLEVBQUFILEVBQUFHLE9BRUFMLEVBQU1NLEVBQVNDLFdBRmYsTUFBTyxDQUFFTixhQUdUSSxFQUFBRyxjQUh1QlQsVUFBQUEsS0FFdkJDLEtBTUEsU0FBQU0sR0FKQSxHQU1zQ0EsRUFBOUJMLGdCQUE4QlEsTUFBOUJSLE1BQThCLElBQUFHLE1BR3RDLE9BTkFLLE1BS0FDLEVBQUFBLGNBQWVULEVBQWNGLFVBdEIvQk8sSUFvQkVOLEtBTUFXLFNBQUFBLEdBQW1DQyxJQUFuQ0QsRUFBbUNDLEVBQW5DRCxhQUFBWixFQUFtQ2EsRUFBbkNiLFVBSkFXLGVBT2FULEVBQWJGLEtBbENIQyxLQW9DTyxXQUVOVyxhQUFBRSxRQUFBLFFBQUFDLEtBQUFGLFVBQUFILFVBakNBLE1BNEJRLFNBQUNNLEdBUUx4QyxVQUFBQSxFQUFBQSxZQUVMeUMsVUFBSUMsaUNBR0YxQywwQkFBMEIyQyxXQUo1QixJQUREekIsRUFDT3dCLEVBS1dBLEtBQUFBLE1BQWFFLGFBQTNCQyxRQUFBLFVBSkgsR0FBSUgsRUFFSCxJQUtDLElBQUFFLEtBTkRWLE1BS0VRLEVBRUZJLE9BQUFDLGVBQUFKLEtBQUFELEVBQUFFLEtBVkYxQixFQUFBd0IsRUFBQUUsR0FPSVQsZUFBZVMsRUFBSzFCLEtBWXZCOEIsZUFBbUJsQyxTQUFBQSxFQUFhbUMsR0FMaEMsSUFNQUQsRUFBQUEsb0JBQStCRSxRQUEvQkMsV0FBQSxHQUVBQyxFQUFpQnRDLEVBQWFaLGNBQW1CK0MsdUJBQ2pERyxFQUFpQkMsRUFBWUosY0FBN0IscUJBRUFLLEVBQVF4QyxFQUFhWixjQUFBLHNCQU5yQjhDLEVBU2NPLGFBQVlDLG9CQUExQk4sR0FmREYsRUFBQUssVUFBQUgsRUFrQkFFLEVBQW1CdEMsYUFBYkQsa0JBQW9Cb0MsR0FSekJHLEVBU2tCM0MsVUFBU2dELEVBUDNCSCxFQVNHSSxhQUFGLG1CQUFBVCxHQVJESyxFQVNHSSxpQkFBbUIsUUFBckI3QyxZQVBEcEIsY0FVV3VCLFlBQVUyQyxJQUxyQjlDLFdBQUEsU0FBQUosR0FGRCxJQUFBbUQsRUFBQW5ELEVBQUFpRCxPQUFBRCxRQUFBRyxVQUVDQyxVQUFVQyxVQUFVQyxVQUFVSCxHQUFXbkMsS0FBSyxXQVcvQ2hCLEVBQU1nQyxPQUFBQSxVQUFZdUIsSUFBWnZCLFVBQ0xsRCxFQUFBQSxPQUFBQSxVQUFheUIsVUFEZGlELFdBQUEsV0FOR3hELEVBQUVpRCxPQUFPMUMsVUFBVTJDLE9BQU8sVUFXN0JsRCxFQUFNYSxPQUFBQSxVQUFZLFFBQ2pCL0IsUUFJRFksVUFBU0UsU0FBQUEsR0FUUmQsYUFBYXlCLFVBQVVnRCxJQUFJLFNBQzNCNUQsYUFBYWlELFVBQWIsR0FBQTlCLE9BQTRCMkMsSUFHdkI1QyxVQUFZLFdBQ2pCL0IsYUFBYXlCLFVBQVUyQyxPQUFPLFNBQzlCdkQsYUFBYWlELFVBQVksSUFHMUJsRCxTQUFTRSxpQkFBaUIsbUJBQW9CUiIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBidXJnZXJCdG47XHJcbmxldCBwcmltYXJ5TmF2O1xyXG5cclxubGV0IHNob3J0ZW5JbnB1dDtcclxubGV0IHNob3J0ZW5CdG47XHJcbmxldCBzaG9ydGVuRXJyb3I7XHJcblxyXG5sZXQgc2hvcnRlbmVkTGlzdDtcclxubGV0IGNvcHlCdXR0b25zO1xyXG5cclxubGV0IHNob3J0ZW5JdGVtVGVtcGxhdGU7XHJcblxyXG4vLyB2YXJpYWJsZXNcclxuY29uc3QgQVBJX1VSTF9CQVNFID0gJ2h0dHBzOi8vYXBpLnNocnRjby5kZS92Mi8nO1xyXG5sZXQgbGlua3MgPSB7fTtcclxuXHJcbi8vIGZ1bmN0aW9uc1xyXG5jb25zdCBtYWluID0gKCkgPT4ge1xyXG5cdHByZXBhcmVET01FbGVtZW50cygpO1xyXG5cdGxvYWRMaW5rc0Zyb21Mb2NhbFN0b3JhZ2UoKTtcclxuXHRwcmVwYXJlQ29weUJ1dHRvbnMoKTsgLy8gbG9hZCBjb3B5IGJ1dHRvbnMgYWZ0ZXIgbGlua3MgYXJlIGFkZGVkXHJcblx0cHJlcGFyZURPTUV2ZW50cygpO1xyXG59O1xyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uYXZpZ2F0aW9uX19idXJnZXItYnRuJyk7XHJcblx0cHJpbWFyeU5hdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwcmltYXJ5LW5hdicpO1xyXG5cclxuXHRzaG9ydGVuSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hvcnRlbi11cmwnKTtcclxuXHRzaG9ydGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3J0ZW4tYnRuJyk7XHJcblx0c2hvcnRlbkVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Nob3J0ZW4tZXJyb3InKTtcclxuXHJcblx0c2hvcnRlbmVkTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzaG9ydGVuZWQtbGlua3MtbGlzdCcpO1xyXG5cdHNob3J0ZW5JdGVtVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2hvcnRlbmVkLWxpc3QtaXRlbS10ZW1wbGF0ZScpO1xyXG59O1xyXG5cclxuY29uc3QgcHJlcGFyZURPTUV2ZW50cyA9ICgpID0+IHtcclxuXHRidXJnZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVCdXJnZXJCdG4pO1xyXG5cclxuXHRzaG9ydGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdHNob3J0ZW5VcmwoKTtcclxuXHR9KTtcclxuXHJcblx0Y29weUJ1dHRvbnMuZm9yRWFjaCgoYnRuKSA9PiBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDb3B5KSk7XHJcbn07XHJcblxyXG5jb25zdCBwcmVwYXJlQ29weUJ1dHRvbnMgPSAoKSA9PiB7XHJcblx0Y29weUJ1dHRvbnMgPSBzaG9ydGVuZWRMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXVybC10by1jb3B5Jyk7XHJcbn07XHJcblxyXG5jb25zdCBoYW5kbGVCdXJnZXJCdG4gPSAoKSA9PiB7XHJcblx0YnVyZ2VyQnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIFN0cmluZyghcHJpbWFyeU5hdi5jbGFzc0xpc3QuY29udGFpbnMoJ3Zpc2libGUnKSkpO1xyXG5cdHByaW1hcnlOYXYuY2xhc3NMaXN0LnRvZ2dsZSgndmlzaWJsZScpO1xyXG59O1xyXG5cclxuY29uc3Qgc2hvcnRlblVybCA9ICgpID0+IHtcclxuXHRpZiAoc2hvcnRlbklucHV0LnZhbHVlKSB7XHJcblx0XHRoaWRlRXJyb3IoKTtcclxuXHJcblx0XHRjb25zdCB1cmwgPSBzaG9ydGVuSW5wdXQudmFsdWU7XHJcblxyXG5cdFx0ZmV0Y2goYCR7QVBJX1VSTF9CQVNFfS9zaG9ydGVuP3VybD0ke3VybH1gKVxyXG5cdFx0XHQudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxyXG5cdFx0XHQudGhlbigocmVzKSA9PiB7XHJcblx0XHRcdFx0aWYgKCFyZXMub2spIHRocm93IG5ldyBFcnJvcignJyk7XHJcblxyXG5cdFx0XHRcdC8vIGdldCBkYXRhIGZyb20gcmVzcG9uc2VcclxuXHRcdFx0XHRjb25zdCByZXN1bHQgPSByZXMucmVzdWx0O1xyXG5cdFx0XHRcdGNvbnN0IHNob3J0TGluayA9IHJlc3VsdC5zaG9ydF9saW5rO1xyXG5cdFx0XHRcdGNvbnN0IG9yaWdpbmFsTGluayA9IHJlc3VsdC5vcmlnaW5hbF9saW5rO1xyXG5cdFx0XHRcdC8vIGFuZCByZXR1cm4gaXQgZnVydGhlclxyXG5cdFx0XHRcdHJldHVybiB7IG9yaWdpbmFsTGluaywgc2hvcnRMaW5rIH07XHJcblx0XHRcdH0pXHJcblx0XHRcdC50aGVuKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0Ly8gaWYgbGluayBhbHJlYWR5IHNob3J0ZW5lZCwgdGhyb3cgZXJyb3IgYW5kIGRvIG5vdGhpbmdcclxuXHRcdFx0XHRpZiAoZGF0YS5vcmlnaW5hbExpbmsgaW4gbGlua3MpIHRocm93IG5ldyBFcnJvcigpO1xyXG5cclxuXHRcdFx0XHQvLyBlbHNlLCBzYXZlIHRvIG9iamVjdCBpbiB0aGlzIGZpbGVcclxuXHRcdFx0XHRsaW5rc1tkYXRhLm9yaWdpbmFsTGlua10gPSBkYXRhLnNob3J0TGluaztcclxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LnRoZW4oKHsgb3JpZ2luYWxMaW5rLCBzaG9ydExpbmsgfSkgPT4ge1xyXG5cdFx0XHRcdC8vIGFwcGVuZCBuZXcgaXRlbSB0byB0aGUgbGlzdFxyXG5cdFx0XHRcdGFwcGVuZExpc3RJdGVtKG9yaWdpbmFsTGluaywgc2hvcnRMaW5rKTtcclxuXHRcdFx0fSlcclxuXHRcdFx0LnRoZW4oKCkgPT4ge1xyXG5cdFx0XHRcdC8vIHNhdmUgdG8gbG9jYWwgc3RvcmFnZVxyXG5cdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsaW5rcycsIEpTT04uc3RyaW5naWZ5KGxpbmtzKSk7XHJcblx0XHRcdH0pXHJcblx0XHRcdC5jYXRjaCgoZXJyKSA9PiB7XHJcblx0XHRcdFx0c2hvd0Vycm9yKGVyci5tZXNzYWdlKTtcclxuXHRcdFx0fSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHNob3dFcnJvcignSW5wdXQgZmllbGQgY2Fubm90IGJlIGVtcHR5LicpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGxvYWRMaW5rc0Zyb21Mb2NhbFN0b3JhZ2UgPSAoKSA9PiB7XHJcblx0Y29uc3Qgc3RvcmFnZUxpbmtzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbGlua3MnKSk7XHJcblx0aWYgKHN0b3JhZ2VMaW5rcykge1xyXG5cdFx0bGlua3MgPSBzdG9yYWdlTGlua3M7XHJcblx0XHRmb3IgKGNvbnN0IGtleSBpbiBzdG9yYWdlTGlua3MpIHtcclxuXHRcdFx0aWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0b3JhZ2VMaW5rcywga2V5KSkge1xyXG5cdFx0XHRcdGNvbnN0IHZhbHVlID0gc3RvcmFnZUxpbmtzW2tleV07XHJcblx0XHRcdFx0YXBwZW5kTGlzdEl0ZW0oa2V5LCB2YWx1ZSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBhcHBlbmRMaXN0SXRlbSA9IChvcmlnaW5hbF91cmwsIHJlc3VsdF91cmwpID0+IHtcclxuXHRjb25zdCBsaXN0SXRlbSA9IHNob3J0ZW5JdGVtVGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XHJcblx0Y29uc3Qgb3JpZ2luYWxVcmxFbGVtZW50ID0gbGlzdEl0ZW0ucXVlcnlTZWxlY3RvcignW2RhdGEtb3JpZ2luYWwtdXJsXScpO1xyXG5cdGNvbnN0IHJlc3VsdFVybEVsZW1lbnQgPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS1yZXN1bHQtdXJsXScpO1xyXG5cdGNvbnN0IGNvcHlCdG4gPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCdbZGF0YS11cmwtdG8tY29weV0nKTtcclxuXHJcblx0b3JpZ2luYWxVcmxFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS1vcmlnaW5hbC11cmwnLCBvcmlnaW5hbF91cmwpO1xyXG5cdG9yaWdpbmFsVXJsRWxlbWVudC5pbm5lclRleHQgPSBvcmlnaW5hbF91cmw7XHJcblxyXG5cdHJlc3VsdFVybEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXJlc3VsdC11cmwnLCByZXN1bHRfdXJsKTtcclxuXHRyZXN1bHRVcmxFbGVtZW50LmlubmVyVGV4dCA9IHJlc3VsdF91cmw7XHJcblxyXG5cdGNvcHlCdG4uc2V0QXR0cmlidXRlKCdkYXRhLXVybC10by1jb3B5JywgcmVzdWx0X3VybCk7XHJcblx0Y29weUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNvcHkpO1xyXG5cclxuXHRzaG9ydGVuZWRMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcclxufTtcclxuXHJcbmNvbnN0IGhhbmRsZUNvcHkgPSAoZSkgPT4ge1xyXG5cdGNvbnN0IHVybFRvQ29weSA9IGUudGFyZ2V0LmRhdGFzZXQudXJsVG9Db3B5O1xyXG5cdG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHVybFRvQ29weSkudGhlbigoKSA9PiB7XHJcblx0XHRlLnRhcmdldC5jbGFzc0xpc3QuYWRkKCdjb3BpZWQnKTtcclxuXHRcdGUudGFyZ2V0LmlubmVyVGV4dCA9ICdDb3BpZWQhJztcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0ZS50YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSgnY29waWVkJyk7XHJcblx0XHRcdGUudGFyZ2V0LmlubmVyVGV4dCA9ICdDb3B5JztcclxuXHRcdH0sIDIwMDApO1xyXG5cdH0pO1xyXG59O1xyXG5cclxuY29uc3Qgc2hvd0Vycm9yID0gKG1zZykgPT4ge1xyXG5cdHNob3J0ZW5JbnB1dC5jbGFzc0xpc3QuYWRkKCdlcnJvcicpO1xyXG5cdHNob3J0ZW5FcnJvci5pbm5lclRleHQgPSBgJHttc2d9YDtcclxufTtcclxuXHJcbmNvbnN0IGhpZGVFcnJvciA9ICgpID0+IHtcclxuXHRzaG9ydGVuSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcclxuXHRzaG9ydGVuRXJyb3IuaW5uZXJUZXh0ID0gJyc7XHJcbn07XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbik7XHJcbiJdfQ==
